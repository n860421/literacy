<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <title>住所郵便番号検索</title>
        <script src="ziptable.js"></Script>
        
        <script>
            function search_partial(){
                var i;
                var input = prompt('住所の一部を入力してください','北海道札幌市中央区旭ケ丘')
                var result = 'みつかりませんでした'; // 検索結果を入れる変数
                var n = zipdb.length; // 検索対象の配列の大きさ
                for(i = 0; i < n; ++i){
                    if( zipdb[i]['address'].match(input) ){ // 入力がi番のデータと部分一致かどうか判定
                    result =  zipdb[i]['address'];
                    break; // 最も内側の for ループから抜け出す
                    }
                }
                document.getElementById('out').innerHTML = result; // 検索結果を out の ID を持つ要素に書く
            }

            var date ="zipdb"
            function search_exact(){
                var i;
                var input = prompt('郵便番号を入力してください', '0640941'); // 入力された文字列
                var result = 'みつかりませんでした'; // 検索結果を入れる変数
                var n = zipdb.length; 
                for(i = 0; i < n; ++i){
                    if( zipdb[i]['zip'] == input ){ // 入力がi番のデータと完全一致かどうか判定
                    result = zipdb[i]['zip']+zipdb[i]['address'];
                    break; // 最も内側の for ループから抜け出す
                    }
                }
                document.getElementById('out').innerHTML = result; // 検索結果を out の ID を持つ要素に書く
            }
        </script>
    </head>

    <body>
        学籍番号:2242021 氏名:小川希花
        <HR>
        <TABLE border="1">
            <TR> 
                <TD onClick="search_partial()">住所検索(部分一致)</TD>
                <TD onClick="search_exact()">郵便番号検索(完全一致)</TD>
            </TR>
            <TR>
                <TD ID="out" colspan="2">出力はここに表示されます</TD>
            </TR>
        </TABLE>
        <hr>

        <script>
            document.write('<TABLE BORDER="1">');
            var i = 0;
            for (i = 0; i < 5; ++i){
                m = i+1
                document.write('<TR><TD>' + m + '</TD><TD>' +zipdb[i]['zip']+ '</TD><TD>' +zipdb[i]['address']+'</TD></TR>');
            }

            document.write('<tr><td colspan="3">・・・</td></tr>')
            
            //document.write('<TABLE BORDER="1">');
            var i = 122388;
            for(i = 122388; i < 122393; ++i){
                m = i+1
                document.write('<TR><TD>' + m + '</TD><TD>' +zipdb[i]['zip']+ '</TD><TD>' +zipdb[i]['address']+'</TD></TR>');
            }

            document.write('</TABLE>');
        </script>
    </body>
</html>
